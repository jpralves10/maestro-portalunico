<iframe
    src="https://docs.google.com/forms/d/e/1FAIpQLScRaga2_Hptwn4Gh_4mqzn-axQoAX_Ai1b2VGuzZnSSKlQwuA/viewform?embedded=true" 
    id="frameForms"
    width="640"
    height="1058"
    frameborder="0" 
    marginheight="0"
    marginwidth="0"
    class="iframe-google">
    Carregando…
</iframe>

<div class="open-button">
    <div class="comment-content">
        <div class="comment-title">
            Comentários do Formulário
        </div>
        <div (click)="openForm()">
            <i class="fas fa-plus-square fa-sm comment-icon"></i>
        </div>
    </div>
</div>

<mat-card id="chatComment" class="mat-elevation-z5 chat-popup">

    <div class="open-button-chat">
        <div class="comment-content">
            <div class="comment-title">
                Comentários do Formulário
            </div>
            <div (click)="closeForm()">
                <i class="fas fa-minus-square fa-sm comment-icon"></i>
            </div>
        </div>
    </div>

    <mat-card-content class="form-container">

        <div>
            <!--mat-form-field style="width: 100%;">
                <mat-label>Campos do Formulário</mat-label>
                <mat-select [(ngModel)]="idColuna" (selectionChange)="printComentarios()">
                    <mat-option
                        *ngFor="let coluna of colunas"
                        [value]="coluna.idColuna"
                        class="option-campos">
                        {{coluna.nmColuna}}
                    </mat-option>
                </mat-select>
            </mat-form-field-->

            <div class="commen-inputs" style="min-height:180px;">
                <div class="content-campos">
                    <div
                        *ngFor="let coluna of colunas"
                        (click)="teste($event); printComentarios(coluna.idColuna);"
                        class="comment-card
                               comment-item-{{coluna.comentarios}}
                               {{coluna.selecionada == true ? 'comment-item-selected' : ''}}"
                        matBadge="{{coluna.pendentes}}" 
                        matBadgePosition="after"
                        matBadgeColor="accent"
                        matBadgeSize="medium"
                        [matBadgeHidden]="!coluna.comentarios && !coluna.selecionada">
                        {{coluna.nmColuna}}
                    </div>
                </div>
            </div>

            <div class="comment-fields">

                <div class="content-comment">
                    <div
                        *ngFor="let comentario of comentarios"
                        class="comment-card comment-item-{{comentario.side}}">
                        <div class="comment-head">
                            <span class="comment-user-{{comentario.side}}">
                                {{comentario.nmUsuario}}
                            </span>
                            <span class="comment-date-{{comentario.side}}">
                                <i class="fas fa-clock comment-icon-clock"></i>
                                {{comentario.dataCriacao.toLocaleDateString()}}
                                {{comentario.dataCriacao.toLocaleTimeString(
                                    [], {hour: '2-digit', minute:'2-digit'}
                                )}}
                            </span>
                        </div>
                        {{comentario.descricao}}
                    </div>
                    <div class="content-msg content-msg-{{coluna.comentarios == true ? 'none' : 'table'}}">
                        <div
                            *ngIf="comentarios.length == 0"
                            class="content-msg-item">
                            Não há comentários!
                        </div>
                    </div>
                </div>

                <div class="comment-input">
                    <input
                        [(ngModel)]="comentario.descricao"
                        placeholder="..." />

                    <button
                        mat-button
                        class="button-salvar"
                        (click)="salvarComentario()">
                        Ok
                    </button>
                </div>
            </div>
        </div>

    </mat-card-content>
</mat-card>